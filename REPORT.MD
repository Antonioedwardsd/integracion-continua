# REPORT.md

## üìå Descripci√≥n general

Este proyecto implementa un pipeline de integraci√≥n continua (CI) para una API de gesti√≥n de usuarios desarrollada en Node.js, utilizando una base de datos simulada (`db.json`). El pipeline fue creado usando **Jenkins** y tiene como objetivo asegurar la calidad del c√≥digo mediante pruebas automatizadas y despliegues simulados.

---

## ‚öôÔ∏è Pasos realizados

### 1. Configuraci√≥n del repositorio
- Se inicializ√≥ un repositorio Git local.
- Se agreg√≥ el c√≥digo base junto con `db.json`.
- Se cre√≥ un repositorio remoto en GitHub y se configur√≥ como origen del repo local.

### 2. Configuraci√≥n b√°sica de la API
- Se utiliz√≥ `json-server` para levantar una API REST fake con los datos de `db.json`.
- Se verific√≥ que los endpoints estuvieran funcionales en `http://localhost:3000`.

### 3. Pipeline en Jenkins
- Se instal√≥ Jenkins en un entorno local.
- Se cre√≥ un `Jenkinsfile` con las siguientes etapas:
  - Clonar el repositorio.
  - Instalar dependencias (`npm install`).
  - Levantar el servidor `json-server`.
  - Validar que la API responda mediante una petici√≥n `curl`.
  - Ejecutar las pruebas con `npm test`.
  - Generar reporte de pruebas.

### 4. Pruebas automatizadas
- Se usaron las pruebas preescritas en `tests/app.test.js`.
- El pipeline fue configurado para fallar en caso de que alguna prueba no pase.

### 5. Generaci√≥n de reporte
- Se configur√≥ `jest-junit` para generar un reporte en formato JUnit compatible con Jenkins.
- Los resultados son visibles directamente desde la interfaz de Jenkins.
- Este archivo `REPORT.md` documenta todo el proceso.

---

## ‚ùó Cambios realizados

- Se agreg√≥ el archivo `Jenkinsfile` en la ra√≠z del proyecto.
- Se configur√≥ `package.json` para incluir scripts √∫tiles (`start`, `test`).
- Se instal√≥ `jest` y `jest-junit` para pruebas y reporte de resultados.
- Se a√±adi√≥ un script para levantar `json-server` desde el pipeline.

---

## üß™ Resultados de pruebas

- ‚úÖ Todas las pruebas se ejecutaron correctamente.
- ‚ùå En caso de errores, el pipeline detiene el proceso de despliegue.

---

## üöß Problemas encontrados

- **json-server no se ejecutaba en segundo plano**: Se resolvi√≥ utilizando `&` al final del comando y un `sleep` para esperar que el servidor est√© listo.
- **Jenkins no reconoc√≠a algunos m√≥dulos**: Se solucion√≥ asegurando que `node_modules` est√© correctamente instalado antes de ejecutar pruebas.

---

