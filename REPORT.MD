# REPORT.md

## ğŸ“Œ DescripciÃ³n general

Este proyecto implementa un pipeline de integraciÃ³n continua (CI) para una API de gestiÃ³n de usuarios desarrollada en Node.js, utilizando una base de datos simulada (`db.json`). El pipeline fue creado usando **Jenkins** y tiene como objetivo asegurar la calidad del cÃ³digo mediante pruebas automatizadas y despliegues simulados.

---

## âš™ï¸ Pasos realizados

### 1. ConfiguraciÃ³n del repositorio
- Se inicializÃ³ un repositorio Git local.
- Se agregÃ³ el cÃ³digo base junto con `db.json`.
- Se creÃ³ un repositorio remoto en GitHub y se configurÃ³ como origen del repo local.

### 2. ConfiguraciÃ³n bÃ¡sica de la API
- Se utilizÃ³ `json-server` para levantar una API REST fake con los datos de `db.json`.
- Se verificÃ³ que los endpoints estuvieran funcionales en `http://localhost:3000`.

### 3. Pipeline en Jenkins
- Se instalÃ³ Jenkins en un entorno local.
- Se creÃ³ un `Jenkinsfile` con las siguientes etapas:
  - Clonar el repositorio.
  - Instalar dependencias (`npm install`).
  - Levantar el servidor `json-server`.
  - Validar que la API responda mediante una peticiÃ³n `curl`.
  - Ejecutar las pruebas con `npm test`.
  - Generar reporte de pruebas.

### 4. Pruebas automatizadas
- Se usaron las pruebas preescritas en `tests/app.test.js`.
- El pipeline fue configurado para fallar en caso de que alguna prueba no pase.

### 5. GeneraciÃ³n de reporte
- Se configurÃ³ `jest-junit` para generar un reporte en formato JUnit compatible con Jenkins.
- Los resultados son visibles directamente desde la interfaz de Jenkins.
- Este archivo `REPORT.md` documenta todo el proceso.

---

## â— Cambios realizados

- Se agregÃ³ el archivo `Jenkinsfile` en la raÃ­z del proyecto.
- Se configurÃ³ `package.json` para incluir scripts Ãºtiles (`start`, `test`).
- Se instalÃ³ `jest` y `jest-junit` para pruebas y reporte de resultados.
- Se aÃ±adiÃ³ un script para levantar `json-server` desde el pipeline.

---

## ğŸ§ª Resultados de pruebas

- âœ… Todas las pruebas se ejecutaron correctamente.
- âŒ En caso de errores, el pipeline detiene el proceso de despliegue.

---

## ğŸš§ Problemas encontrados

- **json-server no se ejecutaba en segundo plano**: Se resolviÃ³ utilizando `&` al final del comando y un `sleep` para esperar que el servidor estÃ© listo.
- **Jenkins no reconocÃ­a algunos mÃ³dulos**: Se solucionÃ³ asegurando que `node_modules` estÃ© correctamente instalado antes de ejecutar pruebas.

---

## ğŸ”Evidencias

![evidencia1](evidencia1.png)
![evidencia2](evidencia2.png)
![evidencia3](evidencia3.png)
